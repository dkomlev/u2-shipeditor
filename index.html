<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="U2 Test — лаунчер стенда Flight Test 2D, выбор корабля и быстрый старт ShipConfig v0.6." />
  <title>U2 Test · Главная</title>
  <link rel="stylesheet" href="css/home.css" />
</head>
<body>
  <div class="page">
    <header class="masthead card">
      <div class="masthead__brand">
        <p class="eyebrow">U2 FlightLab · Launcher</p>
        <h1>U2 Test</h1>
        <p class="masthead__tagline">Выберите корабль, подготовьте ShipConfig v0.6 и запустите Flight Test 2D.</p>
      </div>
      <div class="masthead__status">
        <div class="status-pill">Стенд готов</div>
        <p class="masthead__tagline">Работаем с ShipConfig v0.6 и legacy 0.5.3</p>
      </div>
    </header>

    <section class="hero card">
      <div class="hero__preview">
        <img id="shipImage" alt="Превью корабля" hidden />
        <div class="preview-placeholder" data-preview-placeholder>
          <span>Превью появится после выбора корабля</span>
        </div>
      </div>
      <div class="hero__info">
        <div class="hero__chips">
          <span class="chip chip--accent" data-field="ship-archetype">—</span>
          <span class="chip chip--ghost" data-field="ship-version">v0.6</span>
          <span class="chip" data-field="ship-source">Источник не выбран</span>
        </div>
        <h2 data-field="ship-name">Загрузка…</h2>
        <p class="hero__meta">
          <span class="meta-label">Coupled ассист:&nbsp;<strong data-field="ship-preset">—</strong></span>
          <span class="chip chip--ghost" data-field="ship-preset-hint">—</span>
        </p>
        <div class="stats-grid">
          <div class="stat">
            <div class="stat-label">Масса</div>
            <div class="stat-value" data-field="ship-mass">—</div>
            <div class="stat-hint">Сухая, ShipConfig</div>
          </div>
          <div class="stat">
            <div class="stat-label">SCM</div>
            <div class="stat-value" data-field="ship-scm">—</div>
            <div class="stat-hint">м/с</div>
          </div>
          <div class="stat">
            <div class="stat-label">Vmax</div>
            <div class="stat-value" data-field="ship-vmax">—</div>
            <div class="stat-hint">м/с</div>
          </div>
          <div class="stat">
            <div class="stat-label">Pitch/Yaw/Roll</div>
            <div class="stat-value" data-field="ship-angular">—</div>
            <div class="stat-hint">град/с</div>
          </div>
        </div>
        <div class="cta-row">
          <button class="btn btn-outline" id="chooseShipBtn">Выбрать корабль</button>
          <button class="btn btn-primary" id="launchBtn" disabled>Поехали!</button>
        </div>
        <div class="status-line" data-field="status-line" data-variant="ok">
          <span class="status-line__dot" aria-hidden="true"></span>
          <span data-field="status-message">Стенд готов к запуску</span>
          <span>· Обновлено <span data-field="status-timestamp">—:—</span></span>
        </div>
      </div>
    </section>

    <section class="quick-actions card">
      <div class="quick-actions__grid">
        <article class="action-card">
          <h3>Конфигуратор кораблей</h3>
          <p>Редактор ShipConfig v0.6 с миграцией preset'ов, проверками габаритов и автоподбором ассиста.</p>
          <footer>
            <button class="link-btn" id="openArchitectBtn">Открыть редактор</button>
          </footer>
        </article>
        <article class="action-card">
          <h3>Настройки Вселенной</h3>
          <p>AppConfig (world/render/hud/input/collision/autopilot) в одном месте, совместим с Flight Test.</p>
          <footer>
            <button class="link-btn" id="openAppConfigBtn">Настроить Вселенную</button>
          </footer>
        </article>
        <article class="action-card">
          <h3>Документация</h3>
          <p>Архетипы, вспомогательные таблицы, заметки по миграции ShipConfig 0.5.3 → 0.6.</p>
          <footer>
            <a class="link-btn" href="docs/U2%20%D0%90%D1%80%D1%85%D0%B5%D1%82%D0%B8%D0%BF%D1%8B%20%D0%BA%D0%BE%D1%80%D0%B0%D0%B1%D0%BB%D0%B5%D0%B9%20v0.6.md" target="_blank" rel="noopener">Открыть wiki</a>
          </footer>
        </article>
      </div>
    </section>

    <section class="details-grid">
      <article class="details-card card">
        <h3>Краткая телеметрия</h3>
        <ul class="details-card__list">
          <li><span>Архетип</span><span data-field="ship-archetype">—</span></li>
          <li><span>Масса</span><span data-field="ship-mass">—</span></li>
          <li><span>SCM</span><span data-field="ship-scm">—</span></li>
          <li><span>Vmax</span><span data-field="ship-vmax">—</span></li>
          <li><span>Манёвры</span><span data-field="ship-maneuver">—</span></li>
        </ul>
      </article>
      <article class="details-card card">
        <h3>Сохранение и запуск</h3>
        <ul class="details-card__list">
          <li><span>Источник</span><span data-field="ship-source">—</span></li>
          <li><span>Версия</span><span data-field="ship-version">—</span></li>
          <li><span>Assist preset</span><span data-field="ship-preset">—</span></li>
          <li><span>Статус</span><span data-field="status-message">—</span></li>
          <li><span>Обновлено</span><span data-field="status-timestamp">—:—</span></li>
        </ul>
      </article>
    </section>
  </div>

  <div class="modal" id="shipPickerModal" hidden>
    <div class="modal__panel">
      <div class="modal__header">
        <div>
          <p class="eyebrow">Ship Picker</p>
          <h2>Выбрать корабль</h2>
        </div>
        <button class="btn btn-ghost" data-modal-close="ship-picker">Закрыть</button>
      </div>
      <div class="modal__body">
        <div class="picker-grid" id="pickerList"></div>
        <div class="picker-import">
          <label class="file-input">
            <span>Импорт ShipConfig (.json)</span>
            <input type="file" id="pickerImport" accept="application/json" />
          </label>
          <p class="picker-import__hint">Поддерживаются ShipConfig v0.6 и legacy 0.5.3. Данные сохраняются в localStorage.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="statusToast" hidden>Сообщение</div>

  <script src="js/lib/ship-adapter.js"></script>
  <script src="js/home.js"></script>
</body>
</html>
